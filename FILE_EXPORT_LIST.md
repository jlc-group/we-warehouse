# üì¶ File Export List - 4 ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å

‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö **4 ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏≠‡∏∑‡πà‡∏ô

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠:** 2025-10-23
**‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ:** We-Warehouse Management System
**Backend:** Express + TypeScript + SQL Server
**Frontend:** React + Vite + TypeScript + shadcn/ui

---

## üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÑ‡∏ü‡∏•‡πå

| ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå | Backend | Frontend | ‡∏£‡∏ß‡∏° |
|---------|---------|----------|-----|
| üí∞ ‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô | 6 | 2 | 8 |
| üìã Stock Card | 6 | 2 | 8 |
| üîÑ ‡πÉ‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢ | 6 | 1 | 7 |
| üì¶ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏Ñ | 6 | 4 | 10 |
| üîß Core/Shared | 13 | - | 13 |
| **‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î** | **24** | **9** | **46** |

---

## üè¢ BACKEND FILES (24 ‡πÑ‡∏ü‡∏•‡πå)

### üîß Core/Shared (13 ‡πÑ‡∏ü‡∏•‡πå) - ‡πÉ‡∏ä‡πâ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡∏ó‡∏∏‡∏Å‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå

#### 1. Main Server
```
we-warehouse-backend/src/index.ts
```
Express server entry point ‡∏û‡∏£‡πâ‡∏≠‡∏° route configuration

#### 2. Database Configuration
```
we-warehouse-backend/src/config/database.ts
```
SQL Server connection pool, configuration, ‡πÅ‡∏•‡∏∞ error handling

#### 3. Middleware (2 ‡πÑ‡∏ü‡∏•‡πå)
```
we-warehouse-backend/src/middleware/cors.ts
we-warehouse-backend/src/middleware/errorHandler.ts
```
CORS policy ‡πÅ‡∏•‡∏∞ global error handling

#### 4. Services (1 ‡πÑ‡∏ü‡∏•‡πå)
```
we-warehouse-backend/src/services/sqlServerService.ts
```
‚≠ê **‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î** - 604 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î
‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢:
- `fetchSalesOrders()` - ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ö‡∏Ç‡∏≤‡∏¢ (‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô)
- `fetchSalesOrderById()` - ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÉ‡∏ö‡∏Ç‡∏≤‡∏¢
- `fetchSalesLineItems()` - ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡πÉ‡∏ö‡∏Ç‡∏≤‡∏¢
- `fetchPackingList()` - ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏Ñ‡∏ï‡∏≤‡∏° TAXDATE
- `fetchStockCard()` - ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ stock movements
- `fetchStockCardFilters()` - ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å filters
- `fetchTransferDocuments()` - ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢ (CSStkMove)
- `getTableList()` - Debug: list database tables
- `getTableColumns()` - Debug: inspect table structure
- `checkTransferTable()` - Debug: check CSStkMove table

#### 5. TypeScript Types (2 ‡πÑ‡∏ü‡∏•‡πå)
```
we-warehouse-backend/src/types/sales.types.ts
we-warehouse-backend/src/types/stock.types.ts
```
Type definitions ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Sales ‡πÅ‡∏•‡∏∞ Stock data

#### 6. Configuration Files (5 ‡πÑ‡∏ü‡∏•‡πå)
```
we-warehouse-backend/package.json
we-warehouse-backend/tsconfig.json
we-warehouse-backend/.env.example
we-warehouse-backend/.gitignore
we-warehouse-backend/README.md
```

---

### üí∞ ‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô (Finance Dashboard) - 6 ‡πÑ‡∏ü‡∏•‡πå

#### Backend Routes
```
we-warehouse-backend/src/routes/salesRoutes.ts
```
**API Endpoints:**
- `GET /api/sales` - ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ö‡∏Ç‡∏≤‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- `GET /api/sales/:docno` - ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÉ‡∏ö‡∏Ç‡∏≤‡∏¢
- `GET /api/sales/:docno/items` - ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡πÉ‡∏ö‡∏Ç‡∏≤‡∏¢

#### Backend Controller
```
we-warehouse-backend/src/controllers/salesController.ts
```
**Methods:**
- `getSalesOrders()` - ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ request/response ‡πÉ‡∏ö‡∏Ç‡∏≤‡∏¢
- `getSalesOrderById()` - ‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÉ‡∏ö‡∏Ç‡∏≤‡∏¢‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß
- `getSalesLineItems()` - ‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤

#### Database Tables Used
- `CSSALE` - Header ‡πÉ‡∏ö‡∏Ç‡∏≤‡∏¢
- `CSSALESUB` - ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡πÉ‡∏ö‡∏Ç‡∏≤‡∏¢

---

### üìã Stock Card (‡∏ö‡∏±‡∏ï‡∏£‡∏™‡∏ï‡πá‡∏≠‡∏Å) - 6 ‡πÑ‡∏ü‡∏•‡πå

#### Backend Routes
```
we-warehouse-backend/src/routes/stockRoutes.ts
```
**API Endpoints:**
- `GET /api/stock/stock-card` - ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ stock movements
- `GET /api/stock/stock-card/filters` - ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å filters

#### Backend Controller
```
we-warehouse-backend/src/controllers/stockController.ts
```
**Methods:**
- `getStockCard()` - ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• stock movements
- `getStockCardFilters()` - ‡∏î‡∏∂‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å filters (products, warehouses)
- `getTableList()` - Debug endpoint
- `getTableColumns()` - Debug endpoint
- `checkTransferTable()` - Debug endpoint

#### Database Tables Used
- `CSSTOCKCARD` - Stock movements (Purchase, Sales, Production)

---

### üîÑ ‡πÉ‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢ (Transfer Documents) - 6 ‡πÑ‡∏ü‡∏•‡πå

#### Backend Routes
```
we-warehouse-backend/src/routes/stockRoutes.ts
```
**API Endpoints:**
- `GET /api/stock/transfers` - ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢
- `GET /api/stock/debug/tables` - Debug: list tables
- `GET /api/stock/debug/table-columns/:tableName` - Debug: inspect columns
- `GET /api/stock/debug/transfer-table` - Debug: check CSStkMove

#### Backend Controller
```
we-warehouse-backend/src/controllers/stockController.ts
```
**Methods:**
- `getTransferDocuments()` - ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢ (Join CSSTKMOVE + CSSTKMOVESUB)

#### Database Tables Used
- `CSSTKMOVE` - Header ‡πÉ‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢ (3,091 documents)
- `CSSTKMOVESUB` - ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡πÉ‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢

---

### üì¶ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏Ñ (Packing List) - 6 ‡πÑ‡∏ü‡∏•‡πå

#### Backend Routes
```
we-warehouse-backend/src/routes/salesRoutes.ts
```
**API Endpoints:**
- `GET /api/sales/packing-list?taxdate=YYYY-MM-DD` - ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏Ñ‡∏ï‡∏≤‡∏°‡∏ß‡∏±‡∏ô‡∏™‡πà‡∏á
- `GET /api/sales/packing-list?arcode=XXX` - ‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
- `GET /api/sales/packing-list?productCode=XXX` - ‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤

#### Backend Controller
```
we-warehouse-backend/src/controllers/salesController.ts
```
**Methods:**
- `getPackingList()` - ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏Ñ (Query CSSALE + CSSALESUB filtered by TAXDATE)

#### Database Tables Used
- `CSSALE` - Header ‡πÉ‡∏ö‡∏Ç‡∏≤‡∏¢ (filtered by TAXDATE)
- `CSSALESUB` - ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤

---

## üíª FRONTEND FILES (9 ‡πÑ‡∏ü‡∏•‡πå)

### üí∞ ‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô (Finance Dashboard) - 2 ‡πÑ‡∏ü‡∏•‡πå

```
src/components/FinanceDashboard.tsx
src/hooks/useSalesData.ts
```

**FinanceDashboard.tsx** - ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô
**Features:**
- ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏£‡∏∏‡∏õ sales statistics (‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ, ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ, growth rate)
- ‡∏Å‡∏£‡∏≤‡∏ü‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô (Line chart with recharts)
- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ö‡∏Ç‡∏≤‡∏¢‡∏û‡∏£‡πâ‡∏≠‡∏° filters (‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà, ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤, ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞)
- Modal ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÉ‡∏ö‡∏Ç‡∏≤‡∏¢ (Header + Line items)
- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (Top customers)

**useSalesData.ts** - React Query Hooks
**Functions:**
- `useSalesOrders()` - ‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ö‡∏Ç‡∏≤‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- `useSalesOrderDetail()` - ‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÉ‡∏ö‡∏Ç‡∏≤‡∏¢‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß
- `useSalesStats()` - ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì statistics
- `useDailySalesChart()` - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏£‡∏≤‡∏ü
- `useTopCustomers()` - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ top 10

---

### üìã Stock Card (‡∏ö‡∏±‡∏ï‡∏£‡∏™‡∏ï‡πá‡∏≠‡∏Å) - 2 ‡πÑ‡∏ü‡∏•‡πå

```
src/components/StockCardTabNew.tsx
src/components/StockCardTab.tsx (backup)
```

**StockCardTabNew.tsx** - Stock Card UI (‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÉ‡∏´‡∏°‡πà)
**Features:**
- ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ stock movements (‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤/‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å)
- Multi-select filters:
  - üè∑Ô∏è ‡∏£‡∏´‡∏±‡∏™‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (Product Code)
  - üì¶ ‡∏Ñ‡∏•‡∏±‡∏á (Warehouse)
  - üìÖ ‡∏ä‡πà‡∏ß‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà (Date Range)
  - üìÑ ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ (Document Number)
- ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏°‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ (Group by DOCNO)
- ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤:
  - ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤, ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô, ‡∏´‡∏ô‡πà‡∏ß‡∏¢
  - ‡∏Ñ‡∏•‡∏±‡∏á‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á/‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á
  - ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á (Location)
  - ‡∏¢‡∏≠‡∏î‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ (BALQTY)
- Summary cards:
  - üìù ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£
  - üì¶ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
  - ‚öñÔ∏è ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏£‡∏ß‡∏°
  - üí∞ ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏£‡∏ß‡∏°
- ‡∏™‡∏µ indicators:
  - üü¢ ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß = ‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤ (Purchase, Production)
  - üî¥ ‡πÅ‡∏î‡∏á = ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å (Sales)
  - üü£ ‡∏°‡πà‡∏ß‡∏á = ‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢ (Transfer)

**Props:**
- `documentTypeFilter?: 'transfer' | 'non-transfer' | undefined` - ‡∏Å‡∏£‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£
- `title?: string` - Custom title

---

### üîÑ ‡πÉ‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢ (Transfer Documents) - 1 ‡πÑ‡∏ü‡∏•‡πå

```
src/components/TransferTab.tsx
```

**TransferTab.tsx** - Transfer Documents UI (367 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î)
**Features:**
- üü£ Purple-themed UI (‡πÅ‡∏¢‡∏Å‡∏à‡∏≤‡∏Å Stock Card)
- ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏û‡∏£‡πâ‡∏≠‡∏° FROM ‚Üí TO warehouse flow
- Multi-select filters:
  - üè∑Ô∏è ‡∏£‡∏´‡∏±‡∏™‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (Product Code)
  - üì¶ ‡∏Ñ‡∏•‡∏±‡∏á‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á (Warehouse FROM)
  - üì¶ ‡∏Ñ‡∏•‡∏±‡∏á‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á (Warehouse TO)
  - üìÖ ‡∏ä‡πà‡∏ß‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà (Date Range)
  - üìÑ ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ (Document Number)
- ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏° DOCNO
- ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£:
  - FROM: Warehouse + Location (‡∏™‡∏µ‡πÅ‡∏î‡∏á üî¥)
  - TO: Warehouse + Location (‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß üü¢)
  - ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤: Code, Name, Quantity, Unit
- Summary cards:
  - üìù ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢
  - üì¶ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
  - ‚öñÔ∏è ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏£‡∏ß‡∏°

**API Integration:**
```typescript
const SALES_API_BASE = import.meta.env.VITE_SALES_API_URL || '/api';

const { data } = useQuery({
  queryKey: ['transfers', queryParams],
  queryFn: () => fetchTransferDocuments(queryParams),
  staleTime: 30000
});
```

---

### üì¶ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏Ñ (Packing List) - 4 ‡πÑ‡∏ü‡∏•‡πå

```
src/components/PackingListTab.tsx
src/components/picking/PickingPlanModal.tsx
src/utils/pickingAlgorithm.ts
src/hooks/useSalesOrders.ts
```

**PackingListTab.tsx** - Packing List UI
**Features:**
- ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏û‡∏Ñ‡∏ï‡∏≤‡∏° TAXDATE (‡∏ß‡∏±‡∏ô‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á)
- Date picker ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà
- ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏°‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á‡∏Ç‡∏≤‡∏¢ (Group by DOCNO)
- ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î:
  - üìÑ ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ (DOCNO)
  - üë§ ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ (ARNAME)
  - üìÖ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á (TAXDATE)
  - üí∞ ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤ (TOTALAMOUNT)
  - üì¶ ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå (Product list)
- Summary cards:
  - üì¶ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå
  - üìã ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
  - ‚öñÔ∏è ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏£‡∏ß‡∏°
- ‡∏õ‡∏∏‡πà‡∏° "‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÅ‡∏û‡∏Ñ" ‡πÄ‡∏õ‡∏¥‡∏î PickingPlanModal

**PickingPlanModal.tsx** - Modal ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏´‡∏¢‡∏¥‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
**Features:**
- ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö Supabase `inventory_items` table
- ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏¢‡∏¥‡∏ö (Using pickingAlgorithm)
- ‡πÅ‡∏™‡∏î‡∏á picking routes ‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°:
  - ‚úÖ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏´‡∏¢‡∏¥‡∏ö (‡∏™‡∏ï‡πá‡∏≠‡∏Å‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠)
  - ‚ö†Ô∏è ‡∏™‡∏ï‡πá‡∏≠‡∏Å‡πÑ‡∏°‡πà‡∏û‡∏≠ (‡πÅ‡∏™‡∏î‡∏á‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏î)
  - ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏ô‡∏Ñ‡∏•‡∏±‡∏á
- Checklist ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏¥‡πä‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏¢‡∏¥‡∏ö‡πÅ‡∏•‡πâ‡∏ß
- Progress bar ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤
- ‡∏õ‡∏∏‡πà‡∏° Print ‡πÅ‡∏•‡∏∞ Download picking list

**pickingAlgorithm.ts** - Algorithm ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏´‡∏¢‡∏¥‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
**Functions:**
- `generateBulkPickingPlans()` - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÅ‡∏û‡∏Ñ‡∏´‡∏•‡∏≤‡∏¢‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô
- `generatePickingPlan()` - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÅ‡∏û‡∏Ñ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå
- `allocateInventory()` - ‡∏à‡∏±‡∏î‡∏™‡∏£‡∏£‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏à‡∏≤‡∏Å locations
- Logic: FIFO (First In First Out) - ‡∏´‡∏¢‡∏¥‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡πà‡∏≤‡∏Å‡πà‡∏≠‡∏ô

**useSalesOrders.ts** - Sales Orders Management Hook
**Functions:**
- Wrapper ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö `useSalesData.ts`
- ‡πÄ‡∏û‡∏¥‡πà‡∏° caching ‡πÅ‡∏•‡∏∞ error handling

---

## üé® UI COMPONENTS DEPENDENCIES (51 ‡πÑ‡∏ü‡∏•‡πå)

### shadcn/ui Components ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ

‡∏ó‡∏±‡πâ‡∏á 4 ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÉ‡∏ä‡πâ shadcn/ui components ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô:

```
src/components/ui/
‚îú‚îÄ‚îÄ accordion.tsx          # Collapse/expand sections
‚îú‚îÄ‚îÄ alert-dialog.tsx       # Confirmation dialogs
‚îú‚îÄ‚îÄ alert.tsx              # Alert messages
‚îú‚îÄ‚îÄ badge.tsx              # Status badges
‚îú‚îÄ‚îÄ button.tsx             # Buttons
‚îú‚îÄ‚îÄ calendar.tsx           # Date picker calendar
‚îú‚îÄ‚îÄ card.tsx               # Card containers
‚îú‚îÄ‚îÄ chart.tsx              # Chart wrapper (recharts)
‚îú‚îÄ‚îÄ checkbox.tsx           # Checkboxes
‚îú‚îÄ‚îÄ command.tsx            # Command palette
‚îú‚îÄ‚îÄ dialog.tsx             # Modal dialogs
‚îú‚îÄ‚îÄ dropdown-menu.tsx      # Dropdown menus
‚îú‚îÄ‚îÄ form.tsx               # Form wrapper (react-hook-form)
‚îú‚îÄ‚îÄ input.tsx              # Text inputs
‚îú‚îÄ‚îÄ label.tsx              # Form labels
‚îú‚îÄ‚îÄ multi-select.tsx       # Multi-select dropdown
‚îú‚îÄ‚îÄ popover.tsx            # Popover menus
‚îú‚îÄ‚îÄ progress.tsx           # Progress bars
‚îú‚îÄ‚îÄ select.tsx             # Select dropdowns
‚îú‚îÄ‚îÄ separator.tsx          # Dividers
‚îú‚îÄ‚îÄ skeleton.tsx           # Loading skeletons
‚îú‚îÄ‚îÄ table.tsx              # Tables
‚îú‚îÄ‚îÄ tabs.tsx               # Tab navigation
‚îú‚îÄ‚îÄ toast.tsx              # Toast notifications
‚îú‚îÄ‚îÄ toaster.tsx            # Toast container
‚îî‚îÄ‚îÄ tooltip.tsx            # Tooltips
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô standard shadcn/ui components
‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ CLI:
```bash
npx shadcn@latest add [component-name]
```

---

## üìù CONFIGURATION FILES (8 ‡πÑ‡∏ü‡∏•‡πå)

### Backend Configuration
```
we-warehouse-backend/.env.example
we-warehouse-backend/package.json
we-warehouse-backend/tsconfig.json
we-warehouse-backend/.gitignore
```

### Frontend Configuration
```
package.json
tsconfig.json
vite.config.ts
tailwind.config.ts
```

---

## üîó API Endpoints ‡∏™‡∏£‡∏∏‡∏õ

### Sales & Packing APIs (salesRoutes.ts)
```
GET /api/sales                    # ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ö‡∏Ç‡∏≤‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
GET /api/sales/:docno             # ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÉ‡∏ö‡∏Ç‡∏≤‡∏¢
GET /api/sales/:docno/items       # ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡πÉ‡∏ö‡∏Ç‡∏≤‡∏¢
GET /api/sales/packing-list       # ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏Ñ (filter by TAXDATE)
```

### Stock & Transfer APIs (stockRoutes.ts)
```
GET /api/stock/stock-card         # ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ stock movements
GET /api/stock/stock-card/filters # ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å filters
GET /api/stock/transfers          # ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢

# Debug endpoints
GET /api/stock/debug/tables                  # List database tables
GET /api/stock/debug/table-columns/:name     # Inspect table structure
GET /api/stock/debug/transfer-table          # Check CSStkMove table
```

---

## üóÑÔ∏è Database Tables ‡∏™‡∏£‡∏∏‡∏õ

### JHCSMILE Database (SQL Server)

| Table | ‡πÉ‡∏ä‡πâ‡πÇ‡∏î‡∏¢‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏ñ‡∏ß (‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì) |
|-------|--------------|-------------------|
| `CSSALE` | ‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô, ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏Ñ | ~3,944 |
| `CSSALESUB` | ‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô, ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏Ñ | ~20,000+ |
| `CSSTOCKCARD` | Stock Card | ~5,000 |
| `CSSTKMOVE` | ‡πÉ‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢ | 3,091 |
| `CSSTKMOVESUB` | ‡πÉ‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢ | ~10,000+ |

---

## üì¶ Dependencies ‡∏™‡∏£‡∏∏‡∏õ

### Backend Dependencies
```json
{
  "express": "^4.18.2",
  "mssql": "^10.0.2",
  "dotenv": "^16.4.5",
  "cors": "^2.8.5",
  "helmet": "^7.1.0",
  "typescript": "^5.3.3"
}
```

### Frontend Dependencies (‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á)
```json
{
  "@tanstack/react-query": "^5.x",
  "react": "^18.x",
  "react-router-dom": "^6.x",
  "recharts": "^2.x",
  "lucide-react": "latest",
  "@radix-ui/*": "latest"
}
```

---

## ‚úÖ Next Steps

1. ‚úÖ ‡πÉ‡∏ä‡πâ `export-features.sh` ‡πÄ‡∏û‡∏∑‡πà‡∏≠ copy ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
2. ‚úÖ ‡∏≠‡πà‡∏≤‡∏ô `FEATURES_SETUP_GUIDE.md` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£ setup
3. ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö environment variables (.env)
4. ‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö API endpoints ‡∏ó‡∏µ‡∏•‡∏∞‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå

---

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏î‡∏¢:** Claude Code
**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:** 2025-10-23
**‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ:** We-Warehouse Management System
